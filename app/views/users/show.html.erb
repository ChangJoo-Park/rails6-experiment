<div class="row justify-content-center">
  <div class="col-6">
    <div class="row">
      <div class="col-3">
        <div class="user-show-details">
          <div class="user-show-details-avatar">
            <% if @user.user_profile.avatar.attached? %>
              <%= image_tag @user.avatar(256), class: "img-fluid" %>
            <% else %>
              <%= adorable_avatar(@user.email, 200) %>
            <% end %>
          </div>
          <div class="user-show-details-meta py-2 px-1 border">
            <h4><%= @user.username %></h4>
            <h6><%= @user.user_profile.name %></h6>
            <p class="font-weight-light"><%= mail_to @user.email, @user.email, class: "text-dark" %></p>
            <p class="font-weight-light"><%= link_to @user.user_profile.website, @user.user_profile.website, class: "text-dark" %></p>
            <p class="font-weight-light"><%= @user.user_profile.location %></p>
            <p class="font-weight-light font-italic"><%= @user.user_profile.bio %></p>
            <p class="font-weight-light"><%= l @user.created_at %> 시작</p>
            <% unless @same_user %>
              <%# TODO: Add following user %>
              <button class="btn btn-outline-dark">팔로우</button>
            <% end %>
          </div>
        </div>
      </div>
      <div class="col-9">
        <ul class="nav nav-pills" style="margin-bottom: 1rem;">
          <li class="nav-item">
            <a class="nav-link active" data-toggle="tab" href="#posts">발행글 목록</a>
          </li>
          <% if @same_user %>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#draft">저장글 목록</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#setting">개인정보</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#security">보안설정</a>
            </li>
          <% end %>
        </ul>
        <div class="tab-content px-5">
          <div class="tab-pane fade show active" id="posts">
            <%= render partial: "components/post_list_item", collection: @posts, as: :post, locals: { has_user: false } %>
          </div>
          <% if @same_user %>
          <div class="tab-pane fade" id="draft">
            <%= render partial: "components/post_list_item", collection: @unpublished_posts, as: :post, locals: { has_user: false } %>
          </div>
          <div class="tab-pane fade" id="setting">
            <%= form_with(model: @user.user_profile, local: true, html: { autocomplete: "off" }) do |form| %>
              <div class="form-group">
                <%= form.label :avatar %>
                <%= form.file_field :avatar, class: "form-control" %>
              </div>

              <div class="form-group">
                <%= form.label :name %>
                <%= form.text_field :name, class: "form-control" %>
              </div>

              <div class="form-group">
                <%= form.label :bio %>
                <%= form.text_area :bio, class: "form-control" %>
              </div>

              <div class="form-group">
                <%= form.label :website %>
                <%= form.text_field :website, class: "form-control" %>
              </div>

              <div class="form-group">
                <%= form.label :location %>
                <%= form.text_field :location, class: "form-control" %>
              </div>

              <%= form.submit "저장하기", class: "btn btn-primary" %>
            <% end %>
          </div>
          <div class="tab-pane fade" id="security">
            <p>Curabitur dignissim quis nunc vitae laoreet. Etiam ut mattis leo, vel fermentum tellus. Sed sagittis rhoncus venenatis. Quisque commodo consectetur faucibus. Aenean eget ultricies justo.</p>
          </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
